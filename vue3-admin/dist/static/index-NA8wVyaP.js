import{aB as lt,_ as rt,r as I,d as He,G as qe,c as Se,A as Ce,f as A,m as F,p as f,q as M,U as N,u as m,ai as y,t as E,V as u,P as v,X as Xe,O as x,R as de,aC as ct,S as D,aD as _e,aE as ve,a8 as Y,a3 as ie,F as U,I as fe,aa as it,T as G,J as q,aF as Ke,w as pe,aG as ut,aH as Ge,b as Je,K as je,aI as Ee,aJ as Te,s as dt,a9 as ce,aK as ne,n as ft,aL as pt,Q as he,W as ge}from"./vue-BoURs06I.js";import{g as mt,S as Ye,D as Q,s as De,a as _t,u as be,b as J,L as ee,_ as O,c as Ze,d as Me,e as vt,f as Qe}from"./index-Bd4y8G8I.js";import{f as le,h as ht,j as gt,g as bt,k as wt,E as re,l as yt,n as xe,o as et,p as kt,s as xt,r as St,q as Ct,t as Et,u as Tt,v as Mt}from"./element-Cx1u8HIB.js";import{g as ue,r as $t,s as Fe}from"./index-DPHaodem.js";import{u as Vt}from"./index-Czxb3oi_.js";import{e as Oe}from"./rsa-cERaND_J.js";import"./vxe-OnfnC8YF.js";function Lt(s){s?De(_t):De(Ye)}const oe=lt("app",()=>{const s=rt({opened:mt()!==Ye,withoutAnimation:!1}),e=I(Q.Desktop);return He(()=>s.opened,n=>Lt(n)),{device:e,sidebar:s,toggleSidebar:n=>{s.opened=!s.opened,s.withoutAnimation=n},closeSidebar:n=>{s.opened=!1,s.withoutAnimation=n},toggleDevice:n=>{e.value=n}}}),Rt=992,At=()=>{const s=oe(),{listenerRouteChange:e}=be(),t=()=>document.body.getBoundingClientRect().width-1<Rt,a=()=>{if(!document.hidden){const o=t();s.toggleDevice(o?Q.Mobile:Q.Desktop),o&&s.closeSidebar(!0)}};e(()=>{s.device===Q.Mobile&&s.sidebar.opened&&s.closeSidebar(!1)}),qe(()=>{window.addEventListener("resize",a)}),Se(()=>{t()&&(s.toggleDevice(Q.Mobile),s.closeSidebar(!0))}),Ce(()=>{window.removeEventListener("resize",a)})},It={defense:!0,color:"#c0c4cc",opacity:.5,size:16,family:"serif",angle:-20,width:300,height:200},ze=I(document.body);function Pt(s=ze){let e,t,a=null;const o={watermarkElMutationObserver:void 0,parentElMutationObserver:void 0,parentElResizeObserver:void 0},n=(_,h={})=>{if(!s.value){console.warn("请在 DOM 挂载完成后再调用 setWatermark 方法设置水印");return}e=_,t={...It,...h},a?r():l(),i(s.value)},l=()=>{const _=s.value.tagName.toLowerCase()===ze.value.tagName.toLowerCase(),h=_?"fixed":"absolute",T=_?"":"relative";a=document.createElement("div"),a.style.pointerEvents="none",a.style.top="0",a.style.left="0",a.style.position=h,a.style.zIndex="99999";const{clientWidth:$,clientHeight:P}=s.value;r({width:$,height:P}),s.value.style.position=T,s.value.appendChild(a)},r=(_={})=>{a&&(e&&(a.style.background=`url(${c()}) left top repeat`),_.width&&(a.style.width=`${_.width}px`),_.height&&(a.style.height=`${_.height}px`))},c=()=>{const{color:_,opacity:h,size:T,family:$,angle:P,width:z,height:V}=t,w=document.createElement("canvas");w.width=z,w.height=V;const S=w.getContext("2d");return S&&(S.fillStyle=_,S.globalAlpha=h,S.font=`${T}px ${$}`,S.rotate(Math.PI/180*P),S.fillText(e,0,V/2)),w.toDataURL()},d=()=>{if(!(!s.value||!a)){k();try{s.value.removeChild(a)}catch{console.warn("水印元素已不存在，请重新创建")}finally{a=null}}},p=le(()=>{d(),l(),i(s.value)},100),i=_=>{t.defense?!o.watermarkElMutationObserver&&!o.parentElMutationObserver&&g(_):k("mutation"),o.parentElResizeObserver||b(_)},k=(_="all")=>{var h,T,$;(_==="mutation"||_==="all")&&((h=o.watermarkElMutationObserver)==null||h.disconnect(),o.watermarkElMutationObserver=void 0,(T=o.parentElMutationObserver)==null||T.disconnect(),o.parentElMutationObserver=void 0),(_==="resize"||_==="all")&&(($=o.parentElResizeObserver)==null||$.disconnect(),o.parentElResizeObserver=void 0)},g=_=>{const h=le(T=>{T.forEach(le($=>{switch($.type){case"attributes":$.target===a&&p();break;case"childList":$.removedNodes.forEach(P=>{P===a&&_.appendChild(a)});break}},100))},100);o.watermarkElMutationObserver=new MutationObserver(h),o.parentElMutationObserver=new MutationObserver(h),o.watermarkElMutationObserver.observe(a,{attributes:!0,childList:!1,subtree:!1}),o.parentElMutationObserver.observe(_,{attributes:!1,childList:!0,subtree:!1})},b=_=>{const h=le(()=>{const{clientWidth:T,clientHeight:$}=_;r({width:T,height:$})},500);o.parentElResizeObserver=new ResizeObserver(h),o.parentElResizeObserver.observe(_)};return Ce(()=>{d()}),{setWatermark:n,clearWatermark:d}}const tt=oe(),Dt=A(()=>tt.device===Q.Mobile),Ft=A(()=>tt.device===Q.Desktop);function se(){return{isMobile:Dt,isDesktop:Ft}}const we=J(),Ot=A(()=>we.layoutMode===ee.Left),zt=A(()=>we.layoutMode===ee.Top),Nt=A(()=>we.layoutMode===ee.LeftTop),Wt=s=>{we.layoutMode=s};function ae(){return{isLeft:Ot,isTop:zt,isLeftTop:Nt,setLayoutMode:Wt}}const Bt={class:"layout-footer"},Ut=F({__name:"index",setup(s){const e="文悦书店";return(t,a)=>(f(),M("footer",Bt,"MIT © 2024-PRESENT "+N(m(e)),1))}}),Ht=O(Ut,[["__scopeId","data-v-dce855b9"]]),qt={class:"app-main"},Xt={class:"app-scrollbar"},Kt=F({__name:"AppMain",setup(s){const e=Ze(),t=J();return(a,o)=>{const n=y("router-view"),l=y("el-backtop");return f(),M("section",qt,[E("div",Xt,[u(n,null,{default:v(({Component:r,route:c})=>[u(Xe,{name:"el-fade-in",mode:"out-in"},{default:v(()=>[(f(),x(ct,{include:m(e).cachedViews},[(f(),x(de(r),{key:c.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),m(t).showFooter?(f(),x(Ht,{key:0})):D("",!0)]),u(l),u(l,{target:".app-scrollbar"})])}}}),$e=O(Kt,[["__scopeId","data-v-e96aa434"]]),Gt=F({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(s,{emit:e}){const t=s,a=e,o=()=>{a("toggleClick")};return(n,l)=>{const r=y("el-icon");return f(),M("div",{onClick:o},[u(r,{size:20,class:"icon"},{default:v(()=>[t.isActive?(f(),x(m(ht),{key:0})):(f(),x(m(gt),{key:1}))]),_:1})])}}}),Jt=O(Gt,[["__scopeId","data-v-a21f53d4"]]);function jt(s){for(var e=[],t=0;t<s.length;){var a=s[t];if(a==="*"||a==="+"||a==="?"){e.push({type:"MODIFIER",index:t,value:s[t++]});continue}if(a==="\\"){e.push({type:"ESCAPED_CHAR",index:t++,value:s[t++]});continue}if(a==="{"){e.push({type:"OPEN",index:t,value:s[t++]});continue}if(a==="}"){e.push({type:"CLOSE",index:t,value:s[t++]});continue}if(a===":"){for(var o="",n=t+1;n<s.length;){var l=s.charCodeAt(n);if(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||l===95){o+=s[n++];continue}break}if(!o)throw new TypeError("Missing parameter name at ".concat(t));e.push({type:"NAME",index:t,value:o}),t=n;continue}if(a==="("){var r=1,c="",n=t+1;if(s[n]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(n));for(;n<s.length;){if(s[n]==="\\"){c+=s[n++]+s[n++];continue}if(s[n]===")"){if(r--,r===0){n++;break}}else if(s[n]==="("&&(r++,s[n+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(n));c+=s[n++]}if(r)throw new TypeError("Unbalanced pattern at ".concat(t));if(!c)throw new TypeError("Missing pattern at ".concat(t));e.push({type:"PATTERN",index:t,value:c}),t=n;continue}e.push({type:"CHAR",index:t,value:s[t++]})}return e.push({type:"END",index:t,value:""}),e}function Yt(s,e){e===void 0&&(e={});for(var t=jt(s),a=e.prefixes,o=a===void 0?"./":a,n="[^".concat(en(e.delimiter||"/#?"),"]+?"),l=[],r=0,c=0,d="",p=function(w){if(c<t.length&&t[c].type===w)return t[c++].value},i=function(w){var S=p(w);if(S!==void 0)return S;var B=t[c],C=B.type,R=B.index;throw new TypeError("Unexpected ".concat(C," at ").concat(R,", expected ").concat(w))},k=function(){for(var w="",S;S=p("CHAR")||p("ESCAPED_CHAR");)w+=S;return w};c<t.length;){var g=p("CHAR"),b=p("NAME"),_=p("PATTERN");if(b||_){var h=g||"";o.indexOf(h)===-1&&(d+=h,h=""),d&&(l.push(d),d=""),l.push({name:b||r++,prefix:h,suffix:"",pattern:_||n,modifier:p("MODIFIER")||""});continue}var T=g||p("ESCAPED_CHAR");if(T){d+=T;continue}d&&(l.push(d),d="");var $=p("OPEN");if($){var h=k(),P=p("NAME")||"",z=p("PATTERN")||"",V=k();i("CLOSE"),l.push({name:P||(z?r++:""),pattern:P&&!z?n:z,prefix:h,suffix:V,modifier:p("MODIFIER")||""});continue}i("END")}return l}function Zt(s,e){return Qt(Yt(s,e),e)}function Qt(s,e){e===void 0&&(e={});var t=tn(e),a=e.encode,o=a===void 0?function(c){return c}:a,n=e.validate,l=n===void 0?!0:n,r=s.map(function(c){if(typeof c=="object")return new RegExp("^(?:".concat(c.pattern,")$"),t)});return function(c){for(var d="",p=0;p<s.length;p++){var i=s[p];if(typeof i=="string"){d+=i;continue}var k=c?c[i.name]:void 0,g=i.modifier==="?"||i.modifier==="*",b=i.modifier==="*"||i.modifier==="+";if(Array.isArray(k)){if(!b)throw new TypeError('Expected "'.concat(i.name,'" to not repeat, but got an array'));if(k.length===0){if(g)continue;throw new TypeError('Expected "'.concat(i.name,'" to not be empty'))}for(var _=0;_<k.length;_++){var h=o(k[_],i);if(l&&!r[p].test(h))throw new TypeError('Expected all "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(h,'"'));d+=i.prefix+h+i.suffix}continue}if(typeof k=="string"||typeof k=="number"){var h=o(String(k),i);if(l&&!r[p].test(h))throw new TypeError('Expected "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(h,'"'));d+=i.prefix+h+i.suffix;continue}if(!g){var T=b?"an array":"a string";throw new TypeError('Expected "'.concat(i.name,'" to be ').concat(T))}}return d}}function en(s){return s.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function tn(s){return s&&s.sensitive?"":"i"}const nn={key:0,class:"no-redirect"},on=["onClick"],sn=F({__name:"index",setup(s){const e=_e(),t=ve(),{listenerRouteChange:a}=be(),o=I([]),n=()=>{o.value=e.matched.filter(c=>{var d,p;return((d=c.meta)==null?void 0:d.title)&&((p=c.meta)==null?void 0:p.breadcrumb)!==!1})},l=c=>Zt(c)(e.params),r=c=>{const{redirect:d,path:p}=c;if(d){t.push(d);return}t.push(l(p))};return a(c=>{c.path.startsWith("/redirect/")||n()},!0),(c,d)=>{const p=y("el-breadcrumb-item"),i=y("el-breadcrumb");return f(),x(i,null,{default:v(()=>[(f(!0),M(U,null,Y(o.value,(k,g)=>(f(),x(p,{key:k.path},{default:v(()=>[k.redirect==="noRedirect"||g===o.value.length-1?(f(),M("span",nn,N(k.meta.title),1)):(f(),M("a",{key:1,onClick:ie(b=>r(k),["prevent"])},N(k.meta.title),9,on))]),_:2},1024))),128))]),_:1})}}}),an=O(sn,[["__scopeId","data-v-5110efca"]]),me=s=>/^(https?:|mailto:|tel:)/.test(s),ln=["href"],rn=F({__name:"SidebarItemLink",props:{to:{}},setup(s){const e=s;return(t,a)=>{const o=y("router-link");return m(me)(e.to)?(f(),M("a",{key:0,href:e.to,target:"_blank",rel:"noopener"},[fe(t.$slots,"default")],8,ln)):(f(),x(o,{key:1,to:e.to},{default:v(()=>[fe(t.$slots,"default")]),_:3},8,["to"]))}}});function K(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function Ne(s,e){for(var t="",a=0,o=-1,n=0,l,r=0;r<=s.length;++r){if(r<s.length)l=s.charCodeAt(r);else{if(l===47)break;l=47}if(l===47){if(!(o===r-1||n===1))if(o!==r-1&&n===2){if(t.length<2||a!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var c=t.lastIndexOf("/");if(c!==t.length-1){c===-1?(t="",a=0):(t=t.slice(0,c),a=t.length-1-t.lastIndexOf("/")),o=r,n=0;continue}}else if(t.length===2||t.length===1){t="",a=0,o=r,n=0;continue}}e&&(t.length>0?t+="/..":t="..",a=2)}else t.length>0?t+="/"+s.slice(o+1,r):t=s.slice(o+1,r),a=r-o-1;o=r,n=0}else l===46&&n!==-1?++n:n=-1}return t}function cn(s,e){var t=e.dir||e.root,a=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+a:t+s+a:a}var te={resolve:function(){for(var e="",t=!1,a,o=arguments.length-1;o>=-1&&!t;o--){var n;o>=0?n=arguments[o]:(a===void 0&&(a=process.cwd()),n=a),K(n),n.length!==0&&(e=n+"/"+e,t=n.charCodeAt(0)===47)}return e=Ne(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(K(e),e.length===0)return".";var t=e.charCodeAt(0)===47,a=e.charCodeAt(e.length-1)===47;return e=Ne(e,!t),e.length===0&&!t&&(e="."),e.length>0&&a&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return K(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var a=arguments[t];K(a),a.length>0&&(e===void 0?e=a:e+="/"+a)}return e===void 0?".":te.normalize(e)},relative:function(e,t){if(K(e),K(t),e===t||(e=te.resolve(e),t=te.resolve(t),e===t))return"";for(var a=1;a<e.length&&e.charCodeAt(a)===47;++a);for(var o=e.length,n=o-a,l=1;l<t.length&&t.charCodeAt(l)===47;++l);for(var r=t.length,c=r-l,d=n<c?n:c,p=-1,i=0;i<=d;++i){if(i===d){if(c>d){if(t.charCodeAt(l+i)===47)return t.slice(l+i+1);if(i===0)return t.slice(l+i)}else n>d&&(e.charCodeAt(a+i)===47?p=i:i===0&&(p=0));break}var k=e.charCodeAt(a+i),g=t.charCodeAt(l+i);if(k!==g)break;k===47&&(p=i)}var b="";for(i=a+p+1;i<=o;++i)(i===o||e.charCodeAt(i)===47)&&(b.length===0?b+="..":b+="/..");return b.length>0?b+t.slice(l+p):(l+=p,t.charCodeAt(l)===47&&++l,t.slice(l))},_makeLong:function(e){return e},dirname:function(e){if(K(e),e.length===0)return".";for(var t=e.charCodeAt(0),a=t===47,o=-1,n=!0,l=e.length-1;l>=1;--l)if(t=e.charCodeAt(l),t===47){if(!n){o=l;break}}else n=!1;return o===-1?a?"/":".":a&&o===1?"//":e.slice(0,o)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');K(e);var a=0,o=-1,n=!0,l;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var r=t.length-1,c=-1;for(l=e.length-1;l>=0;--l){var d=e.charCodeAt(l);if(d===47){if(!n){a=l+1;break}}else c===-1&&(n=!1,c=l+1),r>=0&&(d===t.charCodeAt(r)?--r===-1&&(o=l):(r=-1,o=c))}return a===o?o=c:o===-1&&(o=e.length),e.slice(a,o)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!n){a=l+1;break}}else o===-1&&(n=!1,o=l+1);return o===-1?"":e.slice(a,o)}},extname:function(e){K(e);for(var t=-1,a=0,o=-1,n=!0,l=0,r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(c===47){if(!n){a=r+1;break}continue}o===-1&&(n=!1,o=r+1),c===46?t===-1?t=r:l!==1&&(l=1):t!==-1&&(l=-1)}return t===-1||o===-1||l===0||l===1&&t===o-1&&t===a+1?"":e.slice(t,o)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return cn("/",e)},parse:function(e){K(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var a=e.charCodeAt(0),o=a===47,n;o?(t.root="/",n=1):n=0;for(var l=-1,r=0,c=-1,d=!0,p=e.length-1,i=0;p>=n;--p){if(a=e.charCodeAt(p),a===47){if(!d){r=p+1;break}continue}c===-1&&(d=!1,c=p+1),a===46?l===-1?l=p:i!==1&&(i=1):l!==-1&&(i=-1)}return l===-1||c===-1||i===0||i===1&&l===c-1&&l===r+1?c!==-1&&(r===0&&o?t.base=t.name=e.slice(1,c):t.base=t.name=e.slice(r,c)):(r===0&&o?(t.name=e.slice(1,l),t.base=e.slice(1,c)):(t.name=e.slice(r,l),t.base=e.slice(r,c)),t.ext=e.slice(l,c)),r>0?t.dir=e.slice(0,r-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};te.posix=te;var un=te;const nt=bt(un),dn={key:2},fn=F({__name:"SidebarItem",props:{item:{},basePath:{default:""}},setup(s){const e=s,t=A(()=>{var r;return(r=e.item.meta)==null?void 0:r.alwaysShow}),a=A(()=>{var r;return((r=e.item.children)==null?void 0:r.filter(c=>{var d;return!((d=c.meta)!=null&&d.hidden)}))??[]}),o=A(()=>a.value.length),n=A(()=>{const r=o.value;switch(!0){case r>1:return null;case r===1:return a.value[0];default:return{...e.item,path:""}}}),l=r=>{switch(!0){case me(r):return r;case me(e.basePath):return e.basePath;default:return nt.resolve(e.basePath,r)}};return(r,c)=>{const d=y("SvgIcon"),p=y("el-menu-item"),i=y("SidebarItem",!0),k=y("el-sub-menu");return!t.value&&n.value&&!n.value.children?(f(),M(U,{key:0},[n.value.meta?(f(),x(rn,{key:0,to:l(n.value.path)},{default:v(()=>[u(p,{index:l(n.value.path)},it({default:v(()=>[n.value.meta.svgIcon?(f(),x(d,{key:0,name:n.value.meta.svgIcon},null,8,["name"])):n.value.meta.elIcon?(f(),x(de(n.value.meta.elIcon),{key:1,class:"el-icon"})):D("",!0)]),_:2},[n.value.meta.title?{name:"title",fn:v(()=>[G(N(n.value.meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):D("",!0)],64)):(f(),x(k,{key:1,index:l(e.item.path),teleported:""},{title:v(()=>{var g,b,_;return[(g=e.item.meta)!=null&&g.svgIcon?(f(),x(d,{key:0,name:e.item.meta.svgIcon},null,8,["name"])):(b=e.item.meta)!=null&&b.elIcon?(f(),x(de(e.item.meta.elIcon),{key:1,class:"el-icon"})):D("",!0),(_=e.item.meta)!=null&&_.title?(f(),M("span",dn,N(e.item.meta.title),1)):D("",!0)]}),default:v(()=>[e.item.children?(f(!0),M(U,{key:0},Y(a.value,g=>(f(),x(i,{key:g.path,item:g,"base-path":l(g.path)},null,8,["item","base-path"]))),128)):D("",!0)]),_:1},8,["index"]))}}}),pn=O(fn,[["__scopeId","data-v-ed98da72"]]),mn="/admin/static/logo-DSTgNbYl.png",_n=["src"],vn={style:{"font-size":"26px",color:"#fff"}},hn=F({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(s){const e="文悦书店",t=s,{isLeft:a,isTop:o}=ae();return(n,l)=>{const r=y("router-link");return f(),M("div",{class:q(["layout-logo-container",{collapse:t.collapse,"layout-mode-top":m(o)}])},[u(Xe,{name:"layout-logo-fade"},{default:v(()=>[t.collapse?(f(),x(r,{key:"collapse",to:"/"},{default:v(()=>[E("img",{src:m(mn),class:"layout-logo"},null,8,_n)]),_:1})):(f(),x(r,{key:"expand",to:"/"},{default:v(()=>[E("div",vn,N(m(e)),1)]),_:1}))]),_:1})],2)}}}),Ve=O(hn,[["__scopeId","data-v-61d44c4e"]]),gn=F({__name:"index",setup(s){Ke(w=>({"4ded6dc0":z.value,"61d38dec":V.value,"15ffc82c":$.value,"05d7b6d4":P.value,"632f5fe7":T.value}));const e=ue("--v3-sidebar-menu-bg-color"),t=ue("--v3-sidebar-menu-text-color"),a=ue("--v3-sidebar-menu-active-text-color"),{isMobile:o}=se(),{isLeft:n,isTop:l}=ae(),r=_e(),c=oe(),d=Me(),p=J(),i=A(()=>{const{meta:{activeMenu:w},path:S}=r;return w||S}),k=A(()=>d.routes.filter(w=>{var S;return!((S=w.meta)!=null&&S.hidden)})),g=A(()=>!c.sidebar.opened),b=A(()=>n.value&&p.showLogo),_=A(()=>n.value?e:void 0),h=A(()=>n.value?t:void 0),T=A(()=>n.value?a:void 0),$=A(()=>l.value?"var(--v3-navigationbar-height)":"var(--v3-sidebar-menu-item-height)"),P=A(()=>l.value?"transparent":"var(--v3-sidebar-menu-hover-bg-color)"),z=A(()=>l.value?"0px":"2px"),V=A(()=>l.value?"none":"block");return(w,S)=>{const B=y("el-menu"),C=y("el-scrollbar");return f(),M("div",{class:q({"has-logo":b.value})},[b.value?(f(),x(Ve,{key:0,collapse:g.value},null,8,["collapse"])):D("",!0),u(C,{"wrap-class":"scrollbar-wrapper"},{default:v(()=>[u(B,{"default-active":i.value,collapse:g.value&&!m(l),"background-color":_.value,"text-color":h.value,"active-text-color":T.value,"unique-opened":!0,"collapse-transition":!1,mode:m(l)&&!m(o)?"horizontal":"vertical"},{default:v(()=>[(f(!0),M(U,null,Y(k.value,R=>(f(),x(pn,{key:R.path,item:R,"base-path":R.path},null,8,["item","base-path"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}}),Le=O(gn,[["__scopeId","data-v-4b030497"]]),bn={class:"card-header"},wn={class:"card-title"},yn={class:"card-time"},kn={key:0,class:"card-avatar"},xn=["src"],Sn={class:"card-body"},Cn=F({__name:"NotifyList",props:{list:{}},setup(s){const e=s;return(t,a)=>{const o=y("el-empty"),n=y("el-tag"),l=y("el-card");return e.list.length===0?(f(),x(o,{key:0})):(f(!0),M(U,{key:1},Y(e.list,(r,c)=>(f(),x(l,{key:c,shadow:"never",class:"card-container"},{header:v(()=>[E("div",bn,[E("div",null,[E("span",null,[E("span",wn,N(r.title),1),r.extra?(f(),x(n,{key:0,type:r.status,effect:"plain",size:"small"},{default:v(()=>[G(N(r.extra),1)]),_:2},1032,["type"])):D("",!0)]),E("div",yn,N(r.datetime),1)]),r.avatar?(f(),M("div",kn,[E("img",{src:r.avatar,width:"34"},null,8,xn)])):D("",!0)])]),default:v(()=>[E("div",Sn,N(r.description??"No Data"),1)]),_:2},1024))),128))}}}),En=O(Cn,[["__scopeId","data-v-c0dacc5d"]]),Tn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin Vite 上线啦",datetime:"一年前",description:"一个免费开源的中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus、Pinia 和 Vite 等主流技术"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin 上线啦",datetime:"两年前",description:"一个中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus 和 Pinia"}],Mn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自楚门的世界",description:"如果再也不能见到你，祝你早安、午安和晚安",datetime:"1998-06-05"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自大话西游",description:"如果非要在这份爱上加上一个期限，我希望是一万年",datetime:"1995-02-04"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自龙猫",description:"心存善意，定能途遇天使",datetime:"1988-04-16"}],$n=[{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"未开始",status:"info"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"进行中",status:"primary"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"已超时",status:"danger"}],Vn={class:"notify"},Ln={class:"notify-history"},We=99,Rn=350,An=F({__name:"index",setup(s){const e=A(()=>a.value.reduce((n,l)=>n+l.list.length,0)),t=I("通知"),a=I([{name:"通知",type:"primary",list:Tn},{name:"消息",type:"danger",list:Mn},{name:"待办",type:"warning",list:$n}]),o=()=>{re.success(`跳转到${t.value}历史页面`)};return(n,l)=>{const r=y("el-icon"),c=y("el-tooltip"),d=y("el-badge"),p=y("el-scrollbar"),i=y("el-tab-pane"),k=y("el-tabs"),g=y("el-button"),b=y("el-popover");return f(),M("div",Vn,[u(b,{placement:"bottom",width:Rn,trigger:"click"},{reference:v(()=>[u(d,{value:e.value,max:We,hidden:e.value===0},{default:v(()=>[u(c,{effect:"dark",content:"消息通知",placement:"bottom"},{default:v(()=>[u(r,{size:20},{default:v(()=>[u(m(wt))]),_:1})]),_:1})]),_:1},8,["value","hidden"])]),default:v(()=>[u(k,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=_=>t.value=_),class:"demo-tabs",stretch:""},{default:v(()=>[(f(!0),M(U,null,Y(a.value,(_,h)=>(f(),x(i,{name:_.name,key:h},{label:v(()=>[G(N(_.name)+" ",1),u(d,{value:_.list.length,max:We,type:_.type},null,8,["value","type"])]),default:v(()=>[u(p,{height:"400px"},{default:v(()=>[u(En,{list:_.list},null,8,["list"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),E("div",Ln,[u(g,{link:"",onClick:o},{default:v(()=>[G("查看"+N(t.value)+"历史",1)]),_:1})])]),_:1})])}}}),In=O(An,[["__scopeId","data-v-a5fd6355"]]),Pn=F({__name:"index",setup(s){const{themeList:e,activeThemeName:t,setTheme:a}=vt(),o=({clientX:n,clientY:l},r)=>{const c=Math.hypot(Math.max(n,window.innerWidth-n),Math.max(l,window.innerHeight-l)),d=document.documentElement.style;d.setProperty("--v3-theme-x",n+"px"),d.setProperty("--v3-theme-y",l+"px"),d.setProperty("--v3-theme-r",c+"px");const p=()=>{a(r)};document.startViewTransition?document.startViewTransition(p):p()};return(n,l)=>{const r=y("el-icon"),c=y("el-tooltip"),d=y("el-dropdown-item"),p=y("el-dropdown-menu"),i=y("el-dropdown");return f(),x(i,{trigger:"click"},{dropdown:v(()=>[u(p,null,{default:v(()=>[(f(!0),M(U,null,Y(m(e),(k,g)=>(f(),x(d,{key:g,disabled:m(t)===k.name,onClick:b=>{o(b,k.name)}},{default:v(()=>[E("span",null,N(k.title),1)]),_:2},1032,["disabled","onClick"]))),128))]),_:1})]),default:v(()=>[E("div",null,[u(c,{effect:"dark",content:"主题模式",placement:"bottom"},{default:v(()=>[u(r,{size:20},{default:v(()=>[u(m(yt))]),_:1})]),_:1})])]),_:1})}}}),Be=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],j=(()=>{if(typeof document>"u")return!1;const s=Be[0],e={};for(const t of Be)if((t==null?void 0:t[1])in document){for(const[o,n]of t.entries())e[s[o]]=n;return e}return!1})(),Ue={change:j.fullscreenchange,error:j.fullscreenerror};let H={request(s=document.documentElement,e){return new Promise((t,a)=>{const o=()=>{H.off("change",o),t()};H.on("change",o);const n=s[j.requestFullscreen](e);n instanceof Promise&&n.then(o).catch(a)})},exit(){return new Promise((s,e)=>{if(!H.isFullscreen){s();return}const t=()=>{H.off("change",t),s()};H.on("change",t);const a=document[j.exitFullscreen]();a instanceof Promise&&a.then(t).catch(e)})},toggle(s,e){return H.isFullscreen?H.exit():H.request(s,e)},onchange(s){H.on("change",s)},onerror(s){H.on("error",s)},on(s,e){const t=Ue[s];t&&document.addEventListener(t,e,!1)},off(s,e){const t=Ue[s];t&&document.removeEventListener(t,e,!1)},raw:j};Object.defineProperties(H,{isFullscreen:{get:()=>!!document[j.fullscreenElement]},element:{enumerable:!0,get:()=>document[j.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[j.fullscreenEnabled]}});j||(H={isEnabled:!1});const Z=H,Dn=F({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(s){const e=s,t=I(!1),a=A(()=>t.value?e.exitTips:e.openTips),o=A(()=>t.value?"fullscreen-exit":"fullscreen"),n=()=>{const k=document.querySelector(e.element)||void 0;Z.isEnabled?Z.toggle(k):re.warning("您的浏览器无法工作")},l=()=>{t.value=Z.isFullscreen,t.value||(document.body.className="")};pe(k=>{Z.isEnabled&&Z.on("change",l),k(()=>{Z.isEnabled&&Z.off("change",l)})});const r=I(!1),c=A(()=>r.value?"内容区复原":"内容区放大"),d=A(()=>r.value?"fullscreen-exit":"fullscreen"),p=()=>{r.value=!r.value,document.body.className=r.value?"content-large":""},i=()=>{r.value&&p(),document.body.className="content-full",n()};return(k,g)=>{const b=y("SvgIcon"),_=y("el-tooltip"),h=y("el-dropdown-item"),T=y("el-dropdown-menu"),$=y("el-dropdown");return f(),M("div",null,[k.content?(f(),x($,{key:1,disabled:t.value},{dropdown:v(()=>[u(T,null,{default:v(()=>[u(h,{onClick:p},{default:v(()=>[G(N(c.value),1)]),_:1}),u(h,{onClick:i},{default:v(()=>[G("内容区全屏")]),_:1})]),_:1})]),default:v(()=>[u(b,{name:d.value},null,8,["name"])]),_:1},8,["disabled"])):(f(),x(_,{key:0,effect:"dark",content:a.value,placement:"bottom"},{default:v(()=>[u(b,{name:o.value,onClick:n},null,8,["name"])]),_:1},8,["content"]))])}}}),ot=O(Dn,[["__scopeId","data-v-889fe0df"]]),Fn=["onMouseenter"],On={class:"result-item-title"},zn=F({__name:"SearchResult",props:ut({list:{},isPressUpOrDown:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(s,{expose:e}){const t=Ge(s,"modelValue"),a=s,o=Je(),n=I(0),l=p=>{const i=p.name===t.value;return{background:i?"var(--el-color-primary)":"",color:i?"#ffffff":""}},r=p=>{a.isPressUpOrDown||(t.value=p.name)},c=()=>{n.value=Number((window.innerHeight*.4).toFixed(1))},d=p=>{var b;const i=(b=o==null?void 0:o.proxy)==null?void 0:b.$refs[`resultItemRef${p}`];if(!i)return 0;const g=i[0].offsetTop+128;return g>n.value?g-n.value:0};return qe(()=>{window.addEventListener("resize",c)}),Se(()=>{c()}),Ce(()=>{window.removeEventListener("resize",c)}),e({getScrollTop:d}),(p,i)=>{const k=y("SvgIcon");return f(),M("div",null,[(f(!0),M(U,null,Y(p.list,(g,b)=>{var _,h,T;return f(),M("div",{key:b,ref_for:!0,ref:`resultItemRef${b}`,class:"result-item",style:je(l(g)),onMouseenter:$=>r(g)},[(_=g.meta)!=null&&_.svgIcon?(f(),x(k,{key:0,name:g.meta.svgIcon},null,8,["name"])):(h=g.meta)!=null&&h.elIcon?(f(),x(de(g.meta.elIcon),{key:1,class:"el-icon"})):D("",!0),E("span",On,N((T=g.meta)==null?void 0:T.title),1),t.value&&t.value===g.name?(f(),x(k,{key:2,name:"keyboard-enter"})):D("",!0)],44,Fn)}),128))])}}}),Nn=O(zn,[["__scopeId","data-v-8cd47626"]]),Re=s=>(Ee("data-v-8dce46e8"),s=s(),Te(),s),Wn={class:"search-footer"},Bn={class:"search-footer-item"},Un=Re(()=>E("span",null,"确认",-1)),Hn={class:"search-footer-item"},qn=Re(()=>E("span",null,"切换",-1)),Xn={class:"search-footer-item"},Kn=Re(()=>E("span",null,"关闭",-1)),Gn={class:"search-footer-total"},Jn=F({__name:"SearchFooter",props:{total:{}},setup(s){const e=s,{isMobile:t}=se();return(a,o)=>{const n=y("SvgIcon");return f(),M("div",Wn,[m(t)?D("",!0):(f(),M(U,{key:0},[E("span",Bn,[u(n,{name:"keyboard-enter"}),Un]),E("span",Hn,[u(n,{name:"keyboard-up"}),u(n,{name:"keyboard-down"}),qn]),E("span",Xn,[u(n,{name:"keyboard-esc"}),Kn])],64)),E("span",Gn,"共 "+N(e.total)+" 项",1)])}}}),jn=O(Jn,[["__scopeId","data-v-8dce46e8"]]),Yn=E("p",null,"搜索结果",-1),Zn=F({__name:"SearchModal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const e=Ge(s,"modelValue"),t=ve(),{isMobile:a}=se(),o=I(null),n=I(null),l=I(null),r=I(""),c=dt([]),d=I(void 0),p=I(!1),i=A(()=>a.value?"80vw":"40vw"),k=A(()=>xe(Me().routes)),g=le(()=>{var S;const V=b(k.value);c.value=V.filter(B=>{var C,R;return r.value?(R=(C=B.meta)==null?void 0:C.title)==null?void 0:R.toLocaleLowerCase().includes(r.value.toLocaleLowerCase().trim()):!1});const w=(S=c.value)==null?void 0:S.length;d.value=w>0?c.value[0].name:void 0},500),b=(V,w=[])=>(V.forEach(S=>{w.push(S),S.children&&b(S.children,w)}),w),_=()=>{e.value=!1,setTimeout(()=>{r.value="",c.value=[]},200)},h=V=>{var S;if(!l.value)return;const w=l.value.getScrollTop(V);(S=n.value)==null||S.setScrollTop(w)},T=()=>{p.value=!0;const{length:V}=c.value;if(V===0)return;const w=c.value.findIndex(S=>S.name===d.value);if(w===0){const S=c.value[V-1].name;d.value===S&&V>1?(d.value=c.value[V-2].name,h(V-2)):(d.value=S,h(V-1))}else d.value=c.value[w-1].name,h(w-1)},$=()=>{p.value=!0;const{length:V}=c.value;if(V===0)return;const w=c.value.map(S=>S.name).lastIndexOf(d.value);if(w===V-1){const S=c.value[0].name;d.value===S&&V>1?(d.value=c.value[1].name,h(1)):(d.value=S,h(0))}else d.value=c.value[w+1].name,h(w+1)},P=()=>{var B;const{length:V}=c.value;if(V===0)return;const w=d.value,S=(B=c.value.find(C=>C.name===w))==null?void 0:B.path;if(S&&me(S)){window.open(S,"_blank","noopener, noreferrer");return}if(!w){re.warning("无法通过搜索进入该菜单，请为对应的路由设置唯一的 Name");return}try{t.push({name:w})}catch{re.error("该菜单有必填的动态参数，无法通过搜索进入");return}_()},z=()=>{p.value=!1};return(V,w)=>{const S=y("SvgIcon"),B=y("el-input"),C=y("el-empty"),R=y("el-dialog");return f(),x(R,{modelValue:e.value,"onUpdate:modelValue":w[2]||(w[2]=W=>e.value=W),onOpened:w[3]||(w[3]=W=>{var L;return(L=o.value)==null?void 0:L.focus()}),onClosed:w[4]||(w[4]=W=>{var L;return(L=o.value)==null?void 0:L.blur()}),onKeydown:[ce(T,["up"]),ce($,["down"]),ce(P,["enter"])],onKeyup:ce(z,["up","down"]),"before-close":_,width:i.value,top:"5vh",class:"search-modal__private","append-to-body":""},{footer:v(()=>[u(jn,{total:c.value.length},null,8,["total"])]),default:v(()=>[u(B,{ref_key:"inputRef",ref:o,modelValue:r.value,"onUpdate:modelValue":w[0]||(w[0]=W=>r.value=W),onInput:m(g),placeholder:"搜索菜单",size:"large",clearable:""},{prefix:v(()=>[u(S,{name:"search"})]),_:1},8,["modelValue","onInput"]),c.value.length===0?(f(),x(C,{key:0,description:"暂无搜索结果","image-size":100})):(f(),M(U,{key:1},[Yn,u(m(et),{ref_key:"scrollbarRef",ref:n,"max-height":"40vh",always:""},{default:v(()=>[u(Nn,{ref_key:"searchResultRef",ref:l,modelValue:d.value,"onUpdate:modelValue":w[1]||(w[1]=W=>d.value=W),list:c.value,isPressUpOrDown:p.value,onClick:P},null,8,["modelValue","list","isPressUpOrDown"])]),_:1},512)],64))]),_:1},8,["modelValue","width"])}}}),Qn=F({__name:"index",setup(s){const e=I(!1),t=()=>{e.value=!0};return(a,o)=>{const n=y("SvgIcon"),l=y("el-tooltip");return f(),M("div",null,[u(l,{effect:"dark",content:"搜索菜单",placement:"bottom"},{default:v(()=>[u(n,{name:"search",onClick:t})]),_:1}),u(Zn,{modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=r=>e.value=r)},null,8,["modelValue"])])}}}),eo=O(Qn,[["__scopeId","data-v-dc5accb4"]]),to={style:{flex:"auto"}},no=F({__name:"password",emits:["ok"],setup(s,{expose:e,emit:t}){const a=I(!1),o={old_password:"",new_password:"",confin_password:""},n=I(xe(o)),r={old_password:[{required:!0,trigger:"blur",message:"请输入原密码"}],new_password:[{required:!0,trigger:"blur",message:"请输入新密码"}],confin_password:[{required:!0,trigger:"blur",message:"请输入确认密码"},{validator:(_,h,T)=>{h!==n.value.new_password?T(new Error("确认密码与新密码不一致")):T()},trigger:"blur"}]},c=I(null),d=I(!1),p=()=>{a.value=!0},i=()=>{a.value=!1},k=()=>{var _;(_=c.value)==null||_.validate((h,T)=>{if(!h)return console.log("表单校验不通过",T);d.value=!0,Vt({old_password:Oe(n.value.old_password),new_password:Oe(n.value.new_password)}).then(()=>{re.success("修改成功"),a.value=!1,b("ok")}).finally(()=>{d.value=!1})})},g=()=>{var _;(_=c.value)==null||_.clearValidate(),n.value=xe(o)},b=t;return e({open:p}),(_,h)=>{const T=y("el-input"),$=y("el-form-item"),P=y("el-form"),z=y("el-button"),V=y("el-dialog");return f(),x(V,{modelValue:a.value,"onUpdate:modelValue":h[3]||(h[3]=w=>a.value=w),width:"600",onClosed:g,title:"修改密码"},{default:v(()=>[u(P,{ref_key:"formRef",ref:c,model:n.value,rules:r,"label-width":"100px"},{default:v(()=>[u($,{prop:"old_password",label:"原密码"},{default:v(()=>[u(T,{modelValue:n.value.old_password,"onUpdate:modelValue":h[0]||(h[0]=w=>n.value.old_password=w),maxlength:"20","show-word-limit":"",placeholder:"请输入"},null,8,["modelValue"])]),_:1}),u($,{prop:"new_password",label:"新密码"},{default:v(()=>[u(T,{modelValue:n.value.new_password,"onUpdate:modelValue":h[1]||(h[1]=w=>n.value.new_password=w),maxlength:"20","show-word-limit":"",placeholder:"请输入"},null,8,["modelValue"])]),_:1}),u($,{prop:"confin_password",label:"确认密码"},{default:v(()=>[u(T,{modelValue:n.value.confin_password,"onUpdate:modelValue":h[2]||(h[2]=w=>n.value.confin_password=w),maxlength:"20","show-word-limit":"",placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),footer:v(()=>[E("div",to,[u(z,{onClick:i},{default:v(()=>[G("取消")]),_:1}),u(z,{type:"primary",loading:d.value,onClick:k},{default:v(()=>[G("确定")]),_:1},8,["loading"])])]),_:1},8,["modelValue"])}}}),st=s=>(Ee("data-v-8bf9c351"),s=s(),Te(),s),oo={class:"navigation-bar"},so={class:"right-menu"},ao={class:"right-menu-avatar"},lo=st(()=>E("span",{style:{display:"block"}},"修改密码",-1)),ro=st(()=>E("span",{style:{display:"block"}},"退出登录",-1)),co=F({__name:"index",setup(s){const{isMobile:e}=se(),{isTop:t}=ae(),a=ve(),o=oe(),n=Qe(),l=J(),{showNotify:r,showThemeSwitch:c,showScreenfull:d,showSearchMenu:p}=ne(l),i=()=>{o.toggleSidebar(!1)},k=()=>{n.logout(),a.push("/login")},g=I(),b=()=>{g.value.open()};return(_,h)=>{const T=y("arrow-down"),$=y("el-icon"),P=y("el-dropdown-item"),z=y("el-dropdown-menu"),V=y("el-dropdown");return f(),M(U,null,[E("div",oo,[!m(t)||m(e)?(f(),x(Jt,{key:0,"is-active":m(o).sidebar.opened,class:"hamburger",onToggleClick:i},null,8,["is-active"])):D("",!0),!m(t)||m(e)?(f(),x(an,{key:1,class:"breadcrumb"})):D("",!0),m(t)&&!m(e)?(f(),x(Le,{key:2,class:"sidebar"})):D("",!0),E("div",so,[m(p)?(f(),x(eo,{key:0,class:"right-menu-item"})):D("",!0),m(d)?(f(),x(ot,{key:1,class:"right-menu-item"})):D("",!0),m(c)?(f(),x(Pn,{key:2,class:"right-menu-item"})):D("",!0),m(r)?(f(),x(In,{key:3,class:"right-menu-item"})):D("",!0),u(V,{class:"right-menu-item"},{dropdown:v(()=>[u(z,null,{default:v(()=>[u(P,{icon:m(kt),onClick:b},{default:v(()=>[lo]),_:1},8,["icon"]),u(P,{icon:m(xt),divided:"",onClick:k},{default:v(()=>[ro]),_:1},8,["icon"])]),_:1})]),default:v(()=>[E("div",ao,[E("span",null,N(m(n).nickname),1),u($,{class:"el-icon--right"},{default:v(()=>[u(T)]),_:1})])]),_:1})])]),u(no,{ref_key:"password",ref:g,onOk:k},null,512)],64)}}}),Ae=O(co,[["__scopeId","data-v-8bf9c351"]]),io={class:"select-layout-mode"},uo=F({__name:"SelectLayoutMode",setup(s){const{isLeft:e,isTop:t,isLeftTop:a,setLayoutMode:o}=ae();return(n,l)=>{const r=y("el-aside"),c=y("el-header"),d=y("el-main"),p=y("el-container"),i=y("el-tooltip");return f(),M("div",io,[u(i,{content:"左侧模式"},{default:v(()=>[u(p,{class:q(["layout-mode left",{active:m(e)}]),onClick:l[0]||(l[0]=k=>m(o)(m(ee).Left))},{default:v(()=>[u(r),u(p,null,{default:v(()=>[u(c),u(d)]),_:1})]),_:1},8,["class"])]),_:1}),u(i,{content:"顶部模式"},{default:v(()=>[u(p,{class:q(["layout-mode top",{active:m(t)}]),onClick:l[1]||(l[1]=k=>m(o)(m(ee).Top))},{default:v(()=>[u(c),u(d)]),_:1},8,["class"])]),_:1}),u(i,{content:"混合模式"},{default:v(()=>[u(p,{class:q(["layout-mode left-top",{active:m(a)}]),onClick:l[2]||(l[2]=k=>m(o)(m(ee).LeftTop))},{default:v(()=>[u(c),u(p,null,{default:v(()=>[u(r),u(d)]),_:1})]),_:1},8,["class"])]),_:1})])}}}),fo=O(uo,[["__scopeId","data-v-b859d856"]]),at=s=>(Ee("data-v-107157f3"),s=s(),Te(),s),po={class:"setting-container"},mo=at(()=>E("h4",null,"布局配置",-1)),_o=at(()=>E("h4",null,"功能配置",-1)),vo={class:"setting-name"},ho=F({__name:"index",setup(s){const{isLeft:e}=ae(),t=J(),{showTagsView:a,showLogo:o,fixedHeader:n,showFooter:l,showNotify:r,showThemeSwitch:c,showScreenfull:d,showSearchMenu:p,cacheTagsView:i,showWatermark:k,showGreyMode:g,showColorWeakness:b}=ne(t),_={显示标签栏:a,"显示 Logo":o,"固定 Header":n,"显示页脚 Footer":l,显示消息通知:r,显示切换主题按钮:c,显示全屏按钮:d,显示搜索按钮:p,是否缓存标签栏:i,开启系统水印:k,显示灰色模式:g,显示色弱模式:b};return pe(()=>{!e.value&&(n.value=!0)}),(h,T)=>{const $=y("el-divider"),P=y("el-switch"),z=y("el-button");return f(),M("div",po,[mo,u(fo),u($),_o,(f(),M(U,null,Y(_,(V,w,S)=>E("div",{class:"setting-item",key:S},[E("span",vo,N(w),1),u(P,{modelValue:V.value,"onUpdate:modelValue":B=>V.value=B,disabled:!m(e)&&w==="固定 Header"},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),u(z,{type:"danger",icon:m(St),onClick:m($t)},{default:v(()=>[G("重 置")]),_:1},8,["icon","onClick"])])}}}),go=O(ho,[["__scopeId","data-v-107157f3"]]),bo={class:"scroll-container"},wo=200,yo=F({__name:"ScrollPane",props:{tagRefs:{}},setup(s){const e=s,t=_e(),a=J(),{listenerRouteChange:o}=be(),n=I(),l=I();let r=0;const c=({scrollLeft:g})=>{r=g},d=({deltaY:g})=>{/^-/.test(g.toString())?i("left"):i("right")},p=()=>{const g=l.value.clientWidth,b=n.value.wrapRef.clientWidth,_=g-b-r;return{scrollbarContentRefWidth:g,scrollbarRefWidth:b,lastDistance:_}},i=(g,b=wo)=>{let _=0;const{scrollbarContentRefWidth:h,scrollbarRefWidth:T,lastDistance:$}=p();T>h||(g==="left"?_=Math.max(0,r-b):_=Math.min(r+b,r+$),n.value.setScrollLeft(_))},k=()=>{const g=e.tagRefs;for(let b=0;b<g.length;b++)if(t.path===g[b].$props.to.path){const _=g[b].$el,h=_.offsetWidth,T=_.offsetLeft,{scrollbarRefWidth:$}=p();if(T<r){const z=r-T;i("left",z);return}const P=$+r-h;if(T>P){const z=T-P;i("right",z);return}}};return o(()=>{ft(k)}),(g,b)=>{const _=y("el-icon");return f(),M("div",bo,[u(_,{class:"arrow left",onClick:b[0]||(b[0]=h=>i("left"))},{default:v(()=>[u(m(Ct))]),_:1}),u(m(et),{ref_key:"scrollbarRef",ref:n,onWheelPassive:d,onScroll:c},{default:v(()=>[E("div",{ref_key:"scrollbarContentRef",ref:l,class:"scrollbar-content"},[fe(g.$slots,"default",{},void 0,!0)],512)]),_:3},512),u(_,{class:"arrow right",onClick:b[1]||(b[1]=h=>i("right"))},{default:v(()=>[u(m(Et))]),_:1}),m(a).showScreenfull?(f(),x(ot,{key:0,content:!0,class:"screenfull"})):D("",!0)])}}}),ko=O(yo,[["__scopeId","data-v-5784e87c"]]),xo={class:"tags-view-container"},So=F({__name:"index",setup(s){const e=Je(),t=ve(),a=_e(),o=Ze(),n=Me(),{listenerRouteChange:l}=be(),r=I([]),c=I(!1),d=I(0),p=I(0),i=I({});let k=[];const g=C=>C.path===a.path,b=C=>{var R;return(R=C.meta)==null?void 0:R.affix},_=(C,R="/")=>{const W=[];return C.forEach(L=>{if(b(L)){const X=nt.resolve(R,L.path);W.push({fullPath:X,path:X,name:L.name,meta:{...L.meta}})}if(L.children){const X=_(L.children,L.path);W.push(...X)}}),W},h=()=>{k=_(n.routes);for(const C of k)C.name&&o.addVisitedView(C)},T=C=>{C.name&&(o.addVisitedView(C),o.addCachedView(C))},$=C=>{o.delCachedView(C),t.replace({path:"/redirect"+C.path,query:C.query})},P=C=>{o.delVisitedView(C),o.delCachedView(C),g(C)&&w(o.visitedViews,C)},z=()=>{const C=i.value.fullPath;C!==a.path&&C!==void 0&&t.push(C),o.delOthersVisitedViews(i.value),o.delOthersCachedViews(i.value)},V=C=>{o.delAllVisitedViews(),o.delAllCachedViews(),!k.some(R=>R.path===a.path)&&w(o.visitedViews,C)},w=(C,R)=>{const W=C.slice(-1)[0],L=W==null?void 0:W.fullPath;L!==void 0?t.push(L):R.name==="Dashboard"?t.push({path:"/redirect"+R.path,query:R.query}):t.push("/")},S=(C,R)=>{const L=e.proxy.$el.getBoundingClientRect().left,ye=e.proxy.$el.offsetWidth-105,Pe=R.clientX-L+15;p.value=Pe>ye?ye:Pe,d.value=R.clientY,c.value=!0,i.value=C},B=()=>{c.value=!1};return He(c,C=>{C?document.body.addEventListener("click",B):document.body.removeEventListener("click",B)}),Se(()=>{h(),l(async C=>{T(C)},!0)}),(C,R)=>{const W=y("el-icon");return f(),M("div",xo,[u(ko,{class:"tags-view-wrapper","tag-refs":r.value},{default:v(()=>[(f(!0),M(U,null,Y(m(o).visitedViews,L=>(f(),x(m(pt),{ref_for:!0,ref_key:"tagRefs",ref:r,key:L.path,class:q([{active:g(L)},"tags-view-item"]),to:{path:L.path,query:L.query},onMouseup:ie(X=>!b(L)&&P(L),["middle"]),onContextmenu:ie(X=>S(L,X),["prevent"])},{default:v(()=>{var X;return[G(N((X=L.meta)==null?void 0:X.title)+" ",1),b(L)?D("",!0):(f(),x(W,{key:0,size:12,onClick:ie(ye=>P(L),["prevent","stop"])},{default:v(()=>[u(m(Tt))]),_:2},1032,["onClick"]))]}),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),he(E("ul",{class:"contextmenu",style:je({left:p.value+"px",top:d.value+"px"})},[E("li",{onClick:R[0]||(R[0]=L=>$(i.value))},"刷新"),b(i.value)?D("",!0):(f(),M("li",{key:0,onClick:R[1]||(R[1]=L=>P(i.value))},"关闭")),E("li",{onClick:z},"关闭其它"),E("li",{onClick:R[2]||(R[2]=L=>V(i.value))},"关闭所有")],4),[[ge,c.value]])])}}}),Ie=O(So,[["__scopeId","data-v-6f2c645d"]]),Co=F({__name:"index",props:{buttonTop:{default:350}},setup(s){Ke(o=>({"79e23a76":t}));const t=s.buttonTop+"px",a=I(!1);return(o,n)=>{const l=y("el-icon"),r=y("el-drawer");return f(),M(U,null,[E("div",{class:"handle-button",onClick:n[0]||(n[0]=c=>a.value=!0)},[u(l,{size:24},{default:v(()=>[u(m(Mt))]),_:1})]),u(r,{modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=c=>a.value=c),size:"300px","with-header":!1},{default:v(()=>[fe(o.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}}),Eo=O(Co,[["__scopeId","data-v-e47107a1"]]),To=F({__name:"LeftMode",setup(s){const{isMobile:e}=se(),t=oe(),a=J(),{showTagsView:o,fixedHeader:n}=ne(a),l=A(()=>({hideSidebar:!t.sidebar.opened,openSidebar:t.sidebar.opened,withoutAnimation:t.sidebar.withoutAnimation,mobile:e.value})),r=()=>{t.closeSidebar(!1)};return(c,d)=>(f(),M("div",{class:q([l.value,"app-wrapper"])},[l.value.mobile&&l.value.openSidebar?(f(),M("div",{key:0,class:"drawer-bg",onClick:r})):D("",!0),u(m(Le),{class:"sidebar-container"}),E("div",{class:q([{hasTagsView:m(o)},"main-container"])},[E("div",{class:q([{"fixed-header":m(n)},"layout-header"])},[u(m(Ae)),he(u(m(Ie),null,null,512),[[ge,m(o)]])],2),u(m($e),{class:"app-main"})],2)],2))}}),Mo=O(To,[["__scopeId","data-v-79281f6e"]]),$o={class:"app-wrapper"},Vo={class:"fixed-header layout-header"},Lo={class:"content"},Ro=F({__name:"TopMode",setup(s){const e=J(),{showTagsView:t,showLogo:a}=ne(e);return(o,n)=>(f(),M("div",$o,[E("div",Vo,[E("div",Lo,[m(a)?(f(),x(m(Ve),{key:0,collapse:!1,class:"logo"})):D("",!0),u(m(Ae),{class:"navigation-bar"})]),he(u(m(Ie),null,null,512),[[ge,m(t)]])]),E("div",{class:q([{hasTagsView:m(t)},"main-container"])},[u(m($e),{class:"app-main"})],2)]))}}),Ao=O(Ro,[["__scopeId","data-v-da4d3997"]]),Io={class:"fixed-header layout-header"},Po={class:"content"},Do=F({__name:"LeftTopMode",setup(s){const e=oe(),t=J(),{showTagsView:a,showLogo:o}=ne(t),n=A(()=>({hideSidebar:!e.sidebar.opened}));return(l,r)=>(f(),M("div",{class:q([n.value,"app-wrapper"])},[E("div",Io,[m(o)?(f(),x(m(Ve),{key:0,collapse:!1,class:"logo"})):D("",!0),E("div",Po,[u(m(Ae)),he(u(m(Ie),null,null,512),[[ge,m(a)]])])]),E("div",{class:q([{hasTagsView:m(a)},"main-container"])},[u(m(Le),{class:"sidebar-container"}),u(m($e),{class:"app-main"})],2)],2))}}),Fo=O(Do,[["__scopeId","data-v-b05e214b"]]),ke="--v3-tagsview-height",Oo=F({__name:"index",setup(s){At(),Pt();const{isMobile:e}=se(),{isLeft:t,isTop:a,isLeftTop:o}=ae(),n=J(),{showSettings:l,showTagsView:r,showWatermark:c,showGreyMode:d,showColorWeakness:p}=ne(n),i=A(()=>({showGreyMode:d.value,showColorWeakness:p.value})),k=ue(ke);return pe(()=>{r.value?Fe(ke,k):Fe(ke,"0px")}),Qe(),pe(()=>{}),(g,b)=>(f(),M("div",{class:q(i.value)},[m(t)||m(e)?(f(),x(Mo,{key:0})):m(a)?(f(),x(Ao,{key:1})):m(o)?(f(),x(Fo,{key:2})):D("",!0),m(l)?(f(),x(m(Eo),{key:3},{default:v(()=>[u(m(go))]),_:1})):D("",!0)],2))}}),Xo=O(Oo,[["__scopeId","data-v-617c9bf6"]]);export{Xo as default};
